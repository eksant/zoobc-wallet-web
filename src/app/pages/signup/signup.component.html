<div class="signup-container">
  <h2 class="mat-h2">{{ "Login.CreateAcc" | translate }}</h2>
  <h4 class="mat-h4">Your Passphrase:</h4>
  <div class="row passphrase-section">
    <div class="col-6 col-sm-4" *ngFor="let p of passphrase; let key = index">
      <div class="box-passphrase">
        <div class="number">{{ key + 1 }}</div>
        <div class="word">{{ p }}</div>
      </div>
    </div>
  </div>

  <div class="btn-grouped">
    <button mat-flat-button color="primary" (click)="copyPassphrase()">
      <i matPrefix class="fas fa-copy"></i>
      <span class="text">{{ "Login.CopyPass" | translate }}</span>
    </button>
    <button mat-flat-button color="primary" (click)="generateNewWallet()">
      <i matPrefix class="fas fa-sync"></i>
      <span class="text">{{ "Login.Regen" | translate }}</span>
    </button>
  </div>

  <div class="public-address">
    <div class="label">{{ "Login.Ypac" | translate }}:</div>
    <span>{{ address }}</span>
    <button mat-icon-button (click)="copyText(address)">
      <i class="fas fa-copy"></i>
    </button>
  </div>

  <form [formGroup]="formTerms">
    <div class="text-left">
      <div class="warning-box mat-subheading-2" [innerHTML]="'Warning.SignUpWarning' | translate">
        {{ "Warning.SignUpWarning" | translate }}
      </div>
      <div style="margin-bottom: 8px">
        <mat-checkbox formControlName="isWrittenDown">{{ "Misc.IsWritten" | translate }}</mat-checkbox>
      </div>
      <div>
        <mat-checkbox formControlName="isAgree">{{ "Misc.Term" | translate }}</mat-checkbox>
      </div>
    </div>

    <div class="text-right">
      <button mat-flat-button color="primary" (click)="openCreatePin()" type="button"
        [disabled]="!isWrittenDown.value || !isAgree.value">
        <ng-container *ngIf="isPinNeeded">
          <i matPrefix class="fas fa-key"></i>
          <span class="text">{{ "Misc.SMP" | translate }}</span>
        </ng-container>
        <ng-container *ngIf="!isPinNeeded">
          <i matPrefix class="fas fa-plus"></i>
          <span class="text">{{ "Login.CreateAcc" | translate }}</span>
        </ng-container>
      </button>
    </div>
  </form>
</div>

<ng-template #pinDialog>
  <h3 class="mat-h3" id="modal-basic-title"><b>{{ "Misc.SMP" | translate }}</b></h3>
  <form [formGroup]="formSetPin" (submit)="onSetPin($event)">
    <field-pins formControlName="pin"></field-pins>
    <small class="form-text error-text">
      <span *ngIf="submitted && pinForm.hasError('pattern')">{{ "Warning.PinWarningNumber" | translate }}</span>
      <span
        *ngIf="submitted && (pinForm.hasError('required') || pinForm.hasError('minlength') || pinForm.hasError('maxlength'))">{{ "Warning.PinWarningLength" | translate }}
      </span>
    </small>
    <div class="text-right">
      <button mat-flat-button color="primary" type="submit" class="btn btn-primary">Set Pin</button>
    </div>
  </form>
</ng-template>