<div class="signup-page">
  <div class="container">
    <h3 class="h3 text-center">{{'Login.CreateAcc' | translate}}</h3>
    <br />
    <div class="card shadow mb-4">
      <div class="card-body text-center">
        <h5 class="h5">{{'Login.YourPassphrase' | translate}}</h5>
        <div class="row">
          <div class="col-6 col-sm-4" *ngFor="let p of phraseWords; let key = index">
            <div class="box-passphrase">
              <div class="number">{{ key + 1 }}</div>
              <div class="word">{{ p }}</div>
            </div>
          </div>
        </div>
        <br />

        <div class="btn-grouped">
          <button
            class="btn btn-primary btn-icon-split"
            (click)="copyPassphrase()"
          >
            <span class="icon text-white-50">
              <i class="fas fa-copy"></i>
            </span>
            <span class="text">{{'Login.CopyPass' | translate}}</span>
          </button>
          <button
            class="btn btn-success btn-icon-split"
            (click)="regenerateNewPassphrase()"
          >
            <span class="icon text-white-50">
              <i class="fas fa-sync"></i>
            </span>
            <span class="text">{{'Login.Regen' | translate}}</span>
          </button>
        </div>

        <h6 class="h6 text-center">{{'Login.Ypac' | translate}}</h6>
        <div class="public-address">
          <span>{{ address }}</span>
          <button class="btn btn-link" (click)="copyText(address)">
            <i class="fas fa-copy"></i>
          </button>
        </div>

        <form [formGroup]="formTerms">
          <div class="text-left">
            <div class="alert alert-warning" role="alert" [innerHTML]="'Warning.SignUpWarning' | translate">
              {{'Warning.SignUpWarning' | translate}}
            </div>

            <div class="form-group form-check">
              <input
                type="checkbox"
                class="form-check-input"
                id="check1"
                formControlName="isWrittenDown"
              />
              <label class="form-check-label" for="check1"
                >{{'Misc.IsWritten' | translate}}</label
              >
            </div>
            <div class="form-group form-check">
              <input
                type="checkbox"
                class="form-check-input"
                id="check2"
                formControlName="isAgree"
              />
              <label class="form-check-label" for="check2"
                >{{'Misc.Term' | translate}}</label
              >
            </div>
          </div>

          <div class="text-right">
            <button
              class="btn btn-success btn-icon-split"
              (click)="openCreatePin(content)"
              type="button"
              [disabled]="!isWrittenDown.value || !isAgree.value"
            >
              <ng-container *ngIf="isPinNeeded">
                <span class="icon text-white-50">
                  <i class="fas fa-key"></i>
                </span>
                <span class="text">{{'Misc.SMP' | translate}}</span>
              </ng-container>
              <ng-container *ngIf="!isPinNeeded">
                <span class="icon text-white-50">
                  <i class="fas fa-plus"></i>
                </span>
                <span class="text">{{'Login.CreateAcc' | translate}}</span>
              </ng-container>
            </button>
          </div>
        </form>
      </div>
    </div>
  </div>
</div>

<ng-template #content let-modal>
  <div class="modal-header">
    <h5 class="modal-title" id="modal-basic-title">{{'Misc.SMP' | translate}}</h5>
  </div>
  <div class="modal-body">
    <form [formGroup]="formSetPin" (submit)="onSetPin()">
      <div class="form-group">
        <field-pins formControlName="pin"></field-pins>
        <small class="form-text error-text">
          <span *ngIf="submitted && pinForm.hasError('pattern')"
            >{{'Warning.PinWarningNumber' | translate}}</span
          >
          <span
            *ngIf="
              submitted &&
              (pinForm.hasError('required') ||
                pinForm.hasError('minlength') ||
                pinForm.hasError('maxlength'))
            "
            >{{'Warning.PinWarningLength' | translate}}
          </span>
        </small>
      </div>
      <div class="text-right">
        <button type="submit" class="btn btn-primary">{{'Button.Send' | translate}}</button>
      </div>
    </form>
  </div>
</ng-template>
